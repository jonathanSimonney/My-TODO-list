function createElementWithClass(tagName,arrayClassname){    var createdElement = document.createElement(tagName);    for (var i in arrayClassname){        createdElement.className += arrayClassname[i]+' ';    }    return createdElement;}function suppressElementsBySelector(suppressSelector){    var arrayToSuppress = document.querySelectorAll(suppressSelector);    for (var i in arrayToSuppress){        if (typeof arrayToSuppress[i].style !== 'undefined'){            arrayToSuppress[i].parentNode.removeChild(arrayToSuppress[i]);        }    }}//To suppress a list of elements with the corresponding CSS selectorfunction formatName(name){    if (name === '') {        name = '<span class="placeholder">Click here to add a name</span>';//change class if another is preferred by Antoine.    }else{        name = name.replace('&','&amp;');        name = name.replace('<','&lt;');    }    return name;}//To format the name of a field//Some functions called by openFormRename// and addColumn.function openFormRename(title,columnNumber){    var classNameModifForm = 'modificationForm';//As usual, give classname according to what Antoine needs.    suppressElementsBySelector('.'+classNameModifForm);    var formRename = document.createElement('form');    formRename.className = classNameModifForm;    title.appendChild(formRename);    formRename.innerHTML = '<input type="text" id="newName" placeholder="type your new name here"><input type="submit">';    document.querySelector('.'+classNameModifForm).onsubmit  = function() {        var columnName = document.getElementById('newName').value;        arrayColumn[columnNumber]['name'] = columnName;        columnName = formatName(columnName);        title.innerHTML = columnName;        localStorage['content'] = JSON.stringify(arrayColumn);        return false;    }}//open a form to rename a fieldfunction addBox(arrayColumnChild,columnNumber) {    for (var i in arrayColumnChild){        if (arrayColumnChild[i].className.search('containerBox') !== -1){            var containerBox = arrayColumnChild[i];            break;        }    }    var newBox = createElementWithClass('div',['box']);    //give this box the good innerhtml.    containerBox.appendChild(newBox);}function addColumn(columnName,columnNumber) {//possibly to be changed if Antoine prefers another selector.    var newColumn = createElementWithClass('div', ['column']);    var newTitle = createElementWithClass('h3', ['title']);    var newContainer = createElementWithClass('div', ['containerBox']);    var newButton = createElementWithClass('input', ['addBox']);    newButton.type = 'button';    newButton.value = 'add a box';    columnName = formatName(columnName);    newTitle.innerHTML = columnName;    newColumn.appendChild(newTitle);    newColumn.appendChild(newContainer);    newColumn.appendChild(newButton);    document.querySelector('.shelf').appendChild(newColumn);    for (var i in arrayColumn[columnNumber]['content']){        addBox(newColumn.childNodes,columnNumber);    }    //we give back to this column all the boxes she had, after the whole column has been created.    newTitle.onclick = function () {        if (this.innerHTML.search('<form') === -1) {            openFormRename(this,columnNumber);        }    };    newButton.onclick = function () {        arrayColumn[columnNumber]['content'].push({'title' : '', 'description': ''});        localStorage['content'] = JSON.stringify(arrayColumn);        //First, we put the change in the localStorage        addBox(this.parentNode.childNodes,columnNumber);        //And then, we add in the HTML the box.    }}function displayContent(arrayColumn) {//IMPORTANT! Implement this function so it shows the page as it was left.    for (var i in arrayColumn){        addColumn(arrayColumn[i]['name'],i);    }}var arrayColumn = [];window.onload = function(){    if (typeof localStorage['content'] !== 'undefined'){        if (typeof JSON.parse(localStorage['content']) === 'object'){            arrayColumn = JSON.parse(localStorage['content']);            console.log(arrayColumn);            displayContent(arrayColumn);        }    }    //We display the content with what was stocked in the local storage.    var addAColumn = document.getElementById('addColumn');    addAColumn.onclick = function(){        var name = document.getElementById('columnName').value;        arrayColumn.push({'name': name, 'content': []});        localStorage['content'] = JSON.stringify(arrayColumn);        addColumn(name,arrayColumn.length -1);    }};